<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>QUIZ</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>

<body>
  <nav class="navbar navbar-dark" style="background-color: #000000;">
    <span class="navbar-brand mb-0 h1">QUIZ</span>
  </nav>
  <div class="quiz-container">
    <div id="quiz"></div>
  </div>

  <button id="previous" class="btn btn-primary btn-lg btn-block">Previous Question</button>
  <button id="next" class="btn btn-primary btn-lg btn-block">Next Question</button>
  <button id="submit" class="btn btn-primary btn-lg btn-block">Submit Quiz</button>
  <div id="results"></div>


</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script>
  alert('Hey you, ready for a quiz?');
  console.log(alert);

  (function() {
    const myQuestions = [{
        question: "How many planets are there in our solar system?",
        answers: {
          a: "8",
          b: "10",
          c: "9",
          d: "11"
        },
        correctAnswer: "a"
      },
      {
        question: "How long does it take for light from the Sun to reach Earth?",
        answers: {
          a: "1 minute",
          b: "1 hour",
          c: "8 minutes",
          d: "3 Hours"
        },
        correctAnswer: "c"
      },
      {
        question: "How old is the solar system?",
        answers: {
          a: "5 million years",
          b: "5 billion years",
          c: "500 billion years",
          d: "5 billion years"
        },
        correctAnswer: "b"
      },
      {
        question: "What's the shape of the solar system?",
        answers: {
          a: "It's squashed",
          b: "It's round",
          c: "It's like a donut",
          d: "It's a horseshoe shape"
        },
        correctAnswer: "a"
      },
      {
        question: "How fast does the Sun travel?",
        answers: {
          a: "220km in a second",
          b: "220km in an minute",
          c: "220 km in a hour",
          d: "220km in a year"
        },
        correctAnswer: "a"
      }
    ];

    function buildQuiz() {
      const output = [];

      myQuestions.forEach((currentQuestion, questionNumber) => {
        const answers = [];
        for (letter in currentQuestion.answers) {
          answers.push(
            `<label>
               <input type="checkbox" name="question${questionNumber}" value="${letter}">
                ${letter} :
                ${currentQuestion.answers[letter]}
             </label>`
          );
        }
        output.push(
          `<div class="slide">
             <div class="question"> ${currentQuestion.question} </div>
             <div class="answers"> ${answers.join("")} </div>
           </div>`
        );
      });

      quizContainer.innerHTML = output.join("");
    }


    function showResults() {
      const answerContainers = quizContainer.querySelectorAll(".answers");
      let numCorrect = 0;

      myQuestions.forEach((currentQuestion, questionNumber) => {
        const answerContainer = answerContainers[questionNumber];
        const selector = `input[name=question${questionNumber}]:checked`;
        const userAnswer = (answerContainer.querySelector(selector) || {}).value;

        if (userAnswer === currentQuestion.correctAnswer) {
          numCorrect++;
          answerContainers[questionNumber].style.color = "lightgreen";
        } else {
          answerContainers[questionNumber].style.color = "red";
        }
      });

      resultsContainer.innerHTML = `<span class="res"> ${numCorrect} out of ${myQuestions.length}`;
    }


    function showSlide(n) {
      slides[currentSlide].classList.remove("active-slide");
      slides[n].classList.add("active-slide");
      currentSlide = n;

      if (currentSlide === 0) {
        previousButton.style.display = "none";
      } else {
        previousButton.style.display = "inline-block";
      }

      if (currentSlide === slides.length - 1) {
        nextButton.style.display = "none";
        submitButton.style.display = "inline-block";
      } else {
        nextButton.style.display = "inline-block";
        submitButton.style.display = "none";
      }
    }

    function showNextSlide() {
      showSlide(currentSlide + 1);
    }

    function showPreviousSlide() {
      showSlide(currentSlide - 1);
    }

    const quizContainer = document.getElementById("quiz");
    const resultsContainer = document.getElementById("results");
    const submitButton = document.getElementById("submit");

    buildQuiz();

    const previousButton = document.getElementById("previous");
    const nextButton = document.getElementById("next");
    const slides = document.querySelectorAll(".slide");
    let currentSlide = 0;

    showSlide(0);

    submitButton.addEventListener("click", showResults);
    previousButton.addEventListener("click", showPreviousSlide);
    nextButton.addEventListener("click", showNextSlide);
  })();
</script>

</html>